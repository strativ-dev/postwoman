(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{1855:function(t,e,r){"use strict";r.r(e);r(249),r(316),r(62),r(96);var s=r(2),i=r(70),o=r(61),a=r(18),n=r(79),l=r(90),c={};c.props={page:{key:"page",required:!0,type:String}},c.setup=(t,e)=>{var r=t,c=Object(s.n)(""),p=Object(s.n)(!1),u=Object(s.n)(!1),d=Object(a.j)(),y=Object(a.d)(),f=Object(a.g)("rest"===r.page?n.j:n.g,[]),v=Object(s.a)((()=>{var t=new RegExp(c.value,"gi"),e=r=>null!==r&&"object"==typeof r?Object.values(r).some(e):Array.isArray(r)?r.some(e):("string"==typeof r||"number"==typeof r)&&t.test(r);return f.value.filter(e)})),m=Object(s.a)((()=>{return t=v.value,e="updatedOn",t.reduce(((t,r)=>((t[Object(i.useTimeAgo)(r[e]).value]=t[Object(i.useTimeAgo)(r[e]).value]||[]).push(r),t)),{});var t,e}));return{filterText:c,showMore:p,confirmRemove:u,t:y,history:f,filteredHistory:v,filteredHistoryGroups:m,clearHistory:()=>{"rest"===r.page?Object(n.d)():Object(n.c)(),d.success("".concat(y("state.history_deleted")))},useHistory:t=>{"rest"===r.page&&Object(l.w)(Object(o.safelyExtractRESTRequest)(t.request,Object(l.b)()))},deleteBattleHistoryEntry:t=>{"rest"===r.page?t.forEach((t=>{Object(n.f)(t)})):t.forEach((t=>{Object(n.e)(t)})),d.success("".concat(y("state.deleted")))},deleteHistory:t=>{"rest"===r.page?Object(n.f)(t):Object(n.e)(t),d.success("".concat(y("state.deleted")))},toggleStar:t=>{"rest"===r.page?Object(n.o)(t):Object(n.n)(t)}}};var p=c,u=r(15),d=Object(u.a)(p,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"sticky top-0 z-10 flex border-b bg-primary border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"flex w-full p-4 py-2 bg-transparent",attrs:{type:"search",autocomplete:"off",placeholder:""+t.t("action.search")},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),t._v(" "),r("div",{staticClass:"flex"},[r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{to:"https://docs.hoppscotch.io/features/history",blank:"",title:t.t("app.wiki"),svg:"help-circle"}}),t._v(" "),r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{"data-testid":"clear_history",disabled:0===t.history.length,svg:"trash-2",title:t.t("action.clear_all")},nativeOn:{click:function(e){t.confirmRemove=!0}}})],1)]),t._v(" "),r("div",{staticClass:"flex flex-col"},t._l(t.filteredHistoryGroups,(function(e,s){return r("details",{key:"filteredHistoryGroup-"+s,staticClass:"flex flex-col",attrs:{open:""}},[r("summary",{staticClass:"flex items-center justify-between flex-1 min-w-0 cursor-pointer transition focus:outline-none text-secondaryLight text-tiny group"},[r("span",{staticClass:"px-4 py-2 truncate transition group-hover:text-secondary capitalize-first"},[t._v("\n          "+t._s(s)+"\n        ")]),t._v(" "),r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"hidden group-hover:inline-flex",attrs:{svg:"trash",color:"red",title:t.$t("action.remove")},nativeOn:{click:function(r){return t.deleteBattleHistoryEntry(e)}}})],1),t._v(" "),t._l(e,(function(e,s){return r("div",{key:"entry-"+s},[r("rest"==t.page?"HistoryRestCard":"HistoryGraphqlCard",{tag:"component",attrs:{id:s,entry:e,"show-more":t.showMore},on:{"toggle-star":function(r){return t.toggleStar(e)},"delete-entry":function(r){return t.deleteHistory(e)},"use-entry":function(r){return t.useHistory(e)}}})],1)}))],2)})),0),t._v(" "),0===t.filteredHistory.length&&0!==t.history.length?r("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[r("i",{staticClass:"pb-2 opacity-75 material-icons"},[t._v("manage_search")]),t._v(" "),r("span",{staticClass:"my-2 text-center"},[t._v("\n      "+t._s(t.t("state.nothing_found"))+' "'+t._s(t.filterText)+'"\n    ')])]):t._e(),t._v(" "),0===t.history.length?r("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[r("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+t.$colorMode.value+"/history.svg",loading:"lazy",alt:""+t.t("empty.history")}}),t._v(" "),r("span",{staticClass:"mb-4 text-center"},[t._v("\n      "+t._s(t.t("empty.history"))+"\n    ")])]):t._e(),t._v(" "),r("SmartConfirmModal",{attrs:{show:t.confirmRemove,title:""+t.t("confirm.remove_history")},on:{"hide-modal":function(e){t.confirmRemove=!1},resolve:t.clearHistory}})],1)}),[],!1,null,null,null);e.default=d.exports;installComponents(d,{ButtonSecondary:r(85).default,SmartConfirmModal:r(312).default})}}]);