(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1221:function(e,t,n){"use strict";n.r(t);n(512),n(54);var r=n(2),s=n(73),i=n(239),a=n(118),u=n(983),c=Object(r.c)({props:{picked:{type:Object,default:null},savingMode:{type:Boolean,default:!1},request:{type:Object,default:function(){}},folderPath:{type:String,default:null},requestIndex:{type:Number,default:null},doc:Boolean},setup:function(){return{tippyActions:Object(r.n)(null),options:Object(r.n)(null),edit:Object(r.n)(null),duplicate:Object(r.n)(null),deleteAction:Object(r.n)(null)}},data:function(){return{dragging:!1,confirmRemove:!1}},computed:{isSelected:function(){return this.picked&&"gql-my-request"===this.picked.pickedType&&this.picked.folderPath===this.folderPath&&this.picked.requestIndex===this.requestIndex}},methods:{pick:function(){this.$emit("select",{picked:{pickedType:"gql-my-request",folderPath:this.folderPath,requestIndex:this.requestIndex}})},selectRequest:function(){this.savingMode?this.pick():Object(u.l)({request:Object(i.cloneDeep)(Object(s.makeGQLRequest)({name:this.$props.request.name,url:this.$props.request.url,query:this.$props.request.query,headers:this.$props.request.headers,variables:this.$props.request.variables,auth:this.$props.request.auth})),schema:"",response:""})},dragStart:function(e){var t=e.dataTransfer;this.dragging=!this.dragging,t.setData("folderPath",this.folderPath),t.setData("requestIndex",this.requestIndex)},removeRequest:function(){this.picked&&"gql-my-request"===this.picked.pickedType&&this.picked.folderPath===this.folderPath&&this.picked.requestIndex===this.requestIndex&&this.$emit("select",{picked:null}),Object(a.t)(this.folderPath,this.requestIndex),this.$toast.success("".concat(this.$t("state.deleted")))}}}),o=n(22),d=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col",class:[{"bg-primaryLight":e.dragging}]},[n("div",{staticClass:"flex items-stretch group",attrs:{draggable:"true"},on:{dragstart:e.dragStart,dragover:function(e){e.stopPropagation()},dragleave:function(t){e.dragging=!1},dragend:function(t){e.dragging=!1},contextmenu:function(t){t.preventDefault(),e.options.tippy().show()}}},[n("span",{staticClass:"flex items-center justify-center w-16 px-2 truncate cursor-pointer",on:{click:function(t){e.doc||e.selectRequest()}}},[n("SmartIcon",{staticClass:"svg-icons",class:{"text-accent":e.isSelected},attrs:{name:e.isSelected?"check-circle":"file"}})],1),e._v(" "),n("span",{staticClass:"flex flex-1 min-w-0 py-2 pr-2 cursor-pointer transition group-hover:text-secondaryDark",on:{click:function(t){e.doc||e.selectRequest()}}},[n("span",{staticClass:"truncate",class:{"text-accent":e.isSelected}},[e._v("\n        "+e._s(e.request.name)+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex"},[e.savingMode?e._e():n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"hidden group-hover:inline-flex",attrs:{svg:"rotate-ccw",title:e.$t("action.restore")},nativeOn:{click:function(t){e.doc||e.selectRequest()}}}),e._v(" "),n("span",[n("tippy",{ref:"options",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:"","on-shown":function(){return e.tippyActions.focus()}},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.more"),svg:"more-vertical"}})]},proxy:!0}])},[e._v(" "),n("div",{ref:"tippyActions",staticClass:"flex flex-col focus:outline-none",attrs:{tabindex:"0",role:"menu"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"e",void 0,t.key,void 0)?null:e.edit.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"d",void 0,t.key,void 0)?null:e.duplicate.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deleteAction.$el.click()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0))return null;e.options.tippy().hide()}]}},[n("SmartItem",{ref:"edit",attrs:{svg:"edit",label:""+e.$t("action.edit"),shortcut:["E"]},nativeOn:{click:function(t){return function(){e.$emit("edit-request",{request:e.request,requestIndex:e.requestIndex,folderPath:e.folderPath}),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"duplicate",attrs:{svg:"copy",label:""+e.$t("action.duplicate"),shortcut:["D"]},nativeOn:{click:function(t){return function(){e.$emit("duplicate-request",{request:e.request,requestIndex:e.requestIndex,folderPath:e.folderPath}),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"deleteAction",attrs:{svg:"trash-2",label:""+e.$t("action.delete"),shortcut:["âŒ«"]},nativeOn:{click:function(t){return function(){e.confirmRemove=!0,e.options.tippy().hide()}.apply(null,arguments)}}})],1)])],1)],1)]),e._v(" "),n("SmartConfirmModal",{attrs:{show:e.confirmRemove,title:""+e.$t("confirm.remove_request")},on:{"hide-modal":function(t){e.confirmRemove=!1},resolve:e.removeRequest}})],1)}),[],!1,null,null,null);t.default=d.exports;installComponents(d,{SmartIcon:n(129).default,ButtonSecondary:n(105).default,SmartItem:n(128).default,SmartConfirmModal:n(376).default})},983:function(e,t,n){"use strict";n.d(t,"m",(function(){return y})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return v})),n.d(t,"n",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"o",(function(){return k})),n.d(t,"h",(function(){return j})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return $})),n.d(t,"g",(function(){return P})),n.d(t,"c",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"b",(function(){return R}));n(12),n(10),n(15),n(8),n(14);var r=n(43),s=n(42),i=(n(13),n(11),n(5),n(58),n(54),n(44)),a=n(48),u=n(73),c=n(53),o=n(26);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={request:Object(u.makeGQLRequest)({name:"Untitled request",url:"https://echo.hoppscotch.io/graphql",headers:[],variables:'{\n  "id": "1"\n}',query:"query Request {\n  method\n  url\n  headers {\n    key\n    value\n  }\n}\n",auth:{authType:"none",authActive:!0}}),schema:"",response:""},f=Object(c.b)({setSession:function(e,t){return t.session},setName:function(e,t){var n=t.newName;return{request:l(l({},e.request),{},{name:n})}},setURL:function(e,t){var n=t.newURL;return{request:l(l({},e.request),{},{url:n})}},setHeaders:function(e,t){var n=t.headers;return{request:l(l({},e.request),{},{headers:n})}},addHeader:function(e,t){var n=t.header;return{request:l(l({},e.request),{},{headers:[].concat(Object(r.a)(e.request.headers),[n])})}},removeHeader:function(e,t){var n=t.headerIndex;return{request:l(l({},e.request),{},{headers:e.request.headers.filter((function(e,t){return t!==n}))})}},updateHeader:function(e,t){var n=t.headerIndex,r=t.updatedHeader;return{request:l(l({},e.request),{},{headers:e.request.headers.map((function(e,t){return t===n?r:e}))})}},setQuery:function(e,t){var n=t.newQuery;return{request:l(l({},e.request),{},{query:n})}},setVariables:function(e,t){var n=t.newVariables;return{request:l(l({},e.request),{},{variables:n})}},setResponse:function(e,t){return{response:t.newResponse}},setAuth:function(e,t){var n=t.newAuth;return{request:l(l({},e.request),{},{auth:n})}}}),h=new c.a(p,f);function y(e){h.dispatch({dispatcher:"setURL",payload:{newURL:e}})}function q(e){h.dispatch({dispatcher:"setHeaders",payload:{headers:e}})}function v(e){h.dispatch({dispatcher:"setQuery",payload:{newQuery:e}})}function m(e){h.dispatch({dispatcher:"setVariables",payload:{newVariables:e}})}function b(e){h.dispatch({dispatcher:"setResponse",payload:{newResponse:e}})}function g(){return h.value}function O(e){h.dispatch({dispatcher:"setSession",payload:{session:e}})}function k(){return Object(o.h)(x,h.value.request.name,(function(e){h.dispatch({dispatcher:"setName",payload:{newName:e}})}))}function j(e){h.dispatch({dispatcher:"setAuth",payload:{newAuth:e}})}var x=h.subject$.pipe(Object(i.a)("request","name"),Object(a.a)()),w=h.subject$.pipe(Object(i.a)("request","url"),Object(a.a)()),$=h.subject$.pipe(Object(i.a)("request","query"),Object(a.a)()),P=h.subject$.pipe(Object(i.a)("request","variables"),Object(a.a)()),S=h.subject$.pipe(Object(i.a)("request","headers"),Object(a.a)()),I=h.subject$.pipe(Object(i.a)("response"),Object(a.a)()),R=h.subject$.pipe(Object(i.a)("request","auth"),Object(a.a)())}}]);